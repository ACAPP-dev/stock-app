{"ast":null,"code":"var _jsxFileName = \"/Users/acapp5K1/Desktop/stocks-app/frontend/src/components/company/Chart.js\";\nimport React, { useLayoutEffect } from 'react'; // import candlestick chart components from amcharts.com below:\n\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\n\nclass Chart extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      chart: \"\"\n    };\n  }\n\n  componentDidUpdate(prevProps) {\n    // debugger\n    // Handle refreshing the chart when the dataset changes\n    if (prevProps.chart !== this.props.chart) {\n      if (this.newChart._super) {\n        this.newChart.dispose();\n      }\n\n      this.initChart();\n    }\n  }\n\n  componentDidMount() {\n    this.initChart();\n  }\n\n  initChart() {\n    const {\n      chartId\n    } = this.props;\n    am4core.useTheme(am4themes_animated);\n    this.newChart = am4core.create(\"chartdiv\", am4charts.XYChart);\n    newChart.paddingRight = 20;\n    newChart.dateFormatter.inputDateFormat = \"yyyy-MM-dd\";\n    const dateAxis = newChart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.grid.template.location = 0;\n    dateAxis.renderer.minGridDistance = 60;\n    const valueAxis = newChart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.tooltip.disabled = true;\n    const series = newChart.series.push(new am4charts.CandlestickSeries());\n    series.dataFields.dateX = \"date\";\n    series.dataFields.valueY = \"close\";\n    series.dataFields.openValueY = \"open\";\n    series.dataFields.lowValueY = \"low\";\n    series.dataFields.highValueY = \"high\";\n    series.tooltipText = \"Open: [bold]${openValueY.value}[/]\\nLow: [bold]${lowValueY.value}[/]\\nHigh: [bold]${highValueY.value}[/]\\nClose: [bold]${valueY.value}[/]\";\n    newChart.cursor = new am4charts.XYCursor();\n    newChart.scrollbarX = new am4core.Scrollbar();\n    newChart.data = this.props.chart.chart_lines.map(line => {\n      //Convert Unix Date to JS Date Object\n      const rawDate = new Date(parseInt(line.date) * 1000);\n      const rawMonth = rawDate.getUTCMonth();\n      const rawDay = rawDate.getUTCDate();\n      const chartDate = rawDate.getUTCFullYear() + '-' + (rawMonth < 10 ? '0' + rawMonth : rawMonth) + '-' + (rawDay < 10 ? '0' + rawDay : rawDay);\n      return {\n        date: chartDate,\n        open: line.open,\n        high: line.high,\n        low: line.low,\n        close: line.close\n      };\n    });\n    this.setState({\n      chart: newChart\n    }); // Sample chart data for testing\n    //   newChart.data = [ {\n    //     \"date\": \"2018-08-01\",\n    //     \"open\": \"136.65\",\n    //     \"high\": \"136.96\",\n    //     \"low\": \"134.15\",\n    //     \"close\": \"136.49\"\n    //   }, {\n    //     \"date\": \"2018-08-02\",\n    //     \"open\": \"135.26\",\n    //     \"high\": \"135.95\",\n    //     \"low\": \"131.50\",\n    //     \"close\": \"131.85\"\n    //   }, {\n    //     \"date\": \"2018-08-05\",\n    //     \"open\": \"132.90\",\n    //     \"high\": \"135.27\",\n    //     \"low\": \"128.30\",\n    //     \"close\": \"135.25\"\n    //   }, {\n    //     \"date\": \"2018-08-06\",\n    //     \"open\": \"134.94\",\n    //     \"high\": \"137.24\",\n    //     \"low\": \"132.63\",\n    //     \"close\": \"135.03\"\n    //   }, {\n    //     \"date\": \"2018-08-07\",\n    //     \"open\": \"136.76\",\n    //     \"high\": \"136.86\",\n    //     \"low\": \"132.00\",\n    //     \"close\": \"134.01\"\n    //   }, {\n    //     \"date\": \"2018-08-08\",\n    //     \"open\": \"131.11\",\n    //     \"high\": \"133.00\",\n    //     \"low\": \"125.09\",\n    //     \"close\": \"126.39\"\n    //   }, {\n    //     \"date\": \"2018-08-09\",\n    //     \"open\": \"123.12\",\n    //     \"high\": \"127.75\",\n    //     \"low\": \"120.30\",\n    //     \"close\": \"125.00\"\n    //   }, {\n    //     \"date\": \"2018-08-12\",\n    //     \"open\": \"128.32\",\n    //     \"high\": \"129.35\",\n    //     \"low\": \"126.50\",\n    //     \"close\": \"127.79\"\n    //   }, {\n    //     \"date\": \"2018-08-13\",\n    //     \"open\": \"128.29\",\n    //     \"high\": \"128.30\",\n    //     \"low\": \"123.71\",\n    //     \"close\": \"124.03\"\n    //   }, {\n    //     \"date\": \"2018-08-14\",\n    //     \"open\": \"122.74\",\n    //     \"high\": \"124.86\",\n    //     \"low\": \"119.65\",\n    //     \"close\": \"119.90\"\n    //   }, {\n    //     \"date\": \"2018-08-15\",\n    //     \"open\": \"117.01\",\n    //     \"high\": \"118.50\",\n    //     \"low\": \"111.62\",\n    //     \"close\": \"117.05\"\n    //   }, {\n    //     \"date\": \"2018-08-16\",\n    //     \"open\": \"122.01\",\n    //     \"high\": \"123.50\",\n    //     \"low\": \"119.82\",\n    //     \"close\": \"122.06\"\n    //   }, {\n    //     \"date\": \"2018-08-19\",\n    //     \"open\": \"123.96\",\n    //     \"high\": \"124.50\",\n    //     \"low\": \"120.50\",\n    //     \"close\": \"122.22\"\n    //   }, {\n    //     \"date\": \"2018-08-20\",\n    //     \"open\": \"122.21\",\n    //     \"high\": \"128.96\",\n    //     \"low\": \"121.00\",\n    //     \"close\": \"127.57\"\n    //   }, {\n    //     \"date\": \"2018-08-21\",\n    //     \"open\": \"131.22\",\n    //     \"high\": \"132.75\",\n    //     \"low\": \"130.33\",\n    //     \"close\": \"132.51\"\n    //   }, {\n    //     \"date\": \"2018-08-22\",\n    //     \"open\": \"133.09\",\n    //     \"high\": \"133.34\",\n    //     \"low\": \"129.76\",\n    //     \"close\": \"131.07\"\n    //   }, {\n    //     \"date\": \"2018-08-23\",\n    //     \"open\": \"130.53\",\n    //     \"high\": \"135.37\",\n    //     \"low\": \"129.81\",\n    //     \"close\": \"135.30\"\n    //   }, {\n    //     \"date\": \"2018-08-26\",\n    //     \"open\": \"133.39\",\n    //     \"high\": \"134.66\",\n    //     \"low\": \"132.10\",\n    //     \"close\": \"132.25\"\n    //   }, {\n    //     \"date\": \"2018-08-27\",\n    //     \"open\": \"130.99\",\n    //     \"high\": \"132.41\",\n    //     \"low\": \"126.63\",\n    //     \"close\": \"126.82\"\n    //   }, {\n    //     \"date\": \"2018-08-28\",\n    //     \"open\": \"129.88\",\n    //     \"high\": \"134.18\",\n    //     \"low\": \"129.54\",\n    //     \"close\": \"134.08\"\n    //   }, {\n    //     \"date\": \"2018-08-29\",\n    //     \"open\": \"132.67\",\n    //     \"high\": \"138.25\",\n    //     \"low\": \"132.30\",\n    //     \"close\": \"136.25\"\n    //   }, {\n    //     \"date\": \"2018-08-30\",\n    //     \"open\": \"139.49\",\n    //     \"high\": \"139.65\",\n    //     \"low\": \"137.41\",\n    //     \"close\": \"138.48\"\n    //   }, {\n    //     \"date\": \"2018-09-03\",\n    //     \"open\": \"139.94\",\n    //     \"high\": \"145.73\",\n    //     \"low\": \"139.84\",\n    //     \"close\": \"144.16\"\n    //   }, {\n    //     \"date\": \"2018-09-04\",\n    //     \"open\": \"144.97\",\n    //     \"high\": \"145.84\",\n    //     \"low\": \"136.10\",\n    //     \"close\": \"136.76\"\n    //   }, {\n    //     \"date\": \"2018-09-05\",\n    //     \"open\": \"135.56\",\n    //     \"high\": \"137.57\",\n    //     \"low\": \"132.71\",\n    //     \"close\": \"135.01\"\n    //   }, {\n    //     \"date\": \"2018-09-06\",\n    //     \"open\": \"132.01\",\n    //     \"high\": \"132.30\",\n    //     \"low\": \"130.00\",\n    //     \"close\": \"131.77\"\n    //   }, {\n    //     \"date\": \"2018-09-09\",\n    //     \"open\": \"136.99\",\n    //     \"high\": \"138.04\",\n    //     \"low\": \"133.95\",\n    //     \"close\": \"136.71\"\n    //   }, {\n    //     \"date\": \"2018-09-10\",\n    //     \"open\": \"137.90\",\n    //     \"high\": \"138.30\",\n    //     \"low\": \"133.75\",\n    //     \"close\": \"135.49\"\n    //   }, {\n    //     \"date\": \"2018-09-11\",\n    //     \"open\": \"135.99\",\n    //     \"high\": \"139.40\",\n    //     \"low\": \"135.75\",\n    //     \"close\": \"136.85\"\n    //   }, {\n    //     \"date\": \"2018-09-12\",\n    //     \"open\": \"138.83\",\n    //     \"high\": \"139.00\",\n    //     \"low\": \"136.65\",\n    //     \"close\": \"137.20\"\n    //   }, {\n    //     \"date\": \"2018-09-13\",\n    //     \"open\": \"136.57\",\n    //     \"high\": \"138.98\",\n    //     \"low\": \"136.20\",\n    //     \"close\": \"138.81\"\n    //   }, {\n    //     \"date\": \"2018-09-16\",\n    //     \"open\": \"138.99\",\n    //     \"high\": \"140.59\",\n    //     \"low\": \"137.60\",\n    //     \"close\": \"138.41\"\n    //   }, {\n    //     \"date\": \"2018-09-17\",\n    //     \"open\": \"139.06\",\n    //     \"high\": \"142.85\",\n    //     \"low\": \"137.83\",\n    //     \"close\": \"140.92\"\n    //   }, {\n    //     \"date\": \"2018-09-18\",\n    //     \"open\": \"143.02\",\n    //     \"high\": \"143.16\",\n    //     \"low\": \"139.40\",\n    //     \"close\": \"140.77\"\n    //   }, {\n    //     \"date\": \"2018-09-19\",\n    //     \"open\": \"140.15\",\n    //     \"high\": \"141.79\",\n    //     \"low\": \"139.32\",\n    //     \"close\": \"140.31\"\n    //   }, {\n    //     \"date\": \"2018-09-20\",\n    //     \"open\": \"141.14\",\n    //     \"high\": \"144.65\",\n    //     \"low\": \"140.31\",\n    //     \"close\": \"144.15\"\n    //   }, {\n    //     \"date\": \"2018-09-23\",\n    //     \"open\": \"146.73\",\n    //     \"high\": \"149.85\",\n    //     \"low\": \"146.65\",\n    //     \"close\": \"148.28\"\n    //   }, {\n    //     \"date\": \"2018-09-24\",\n    //     \"open\": \"146.84\",\n    //     \"high\": \"153.22\",\n    //     \"low\": \"146.82\",\n    //     \"close\": \"153.18\"\n    //   }, {\n    //     \"date\": \"2018-09-25\",\n    //     \"open\": \"154.47\",\n    //     \"high\": \"155.00\",\n    //     \"low\": \"151.25\",\n    //     \"close\": \"152.77\"\n    //   }, {\n    //     \"date\": \"2018-09-26\",\n    //     \"open\": \"153.77\",\n    //     \"high\": \"154.52\",\n    //     \"low\": \"152.32\",\n    //     \"close\": \"154.50\"\n    //   }, {\n    //     \"date\": \"2018-09-27\",\n    //     \"open\": \"153.44\",\n    //     \"high\": \"154.60\",\n    //     \"low\": \"152.75\",\n    //     \"close\": \"153.47\"\n    //   }, {\n    //     \"date\": \"2018-09-30\",\n    //     \"open\": \"154.63\",\n    //     \"high\": \"157.41\",\n    //     \"low\": \"152.93\",\n    //     \"close\": \"156.34\"\n    //   }, {\n    //     \"date\": \"2018-10-01\",\n    //     \"open\": \"156.55\",\n    //     \"high\": \"158.59\",\n    //     \"low\": \"155.89\",\n    //     \"close\": \"158.45\"\n    //   }, {\n    //     \"date\": \"2018-10-02\",\n    //     \"open\": \"157.78\",\n    //     \"high\": \"159.18\",\n    //     \"low\": \"157.01\",\n    //     \"close\": \"157.92\"\n    //   }, {\n    //     \"date\": \"2018-10-03\",\n    //     \"open\": \"158.00\",\n    //     \"high\": \"158.08\",\n    //     \"low\": \"153.50\",\n    //     \"close\": \"156.24\"\n    //   }, {\n    //     \"date\": \"2018-10-04\",\n    //     \"open\": \"158.37\",\n    //     \"high\": \"161.58\",\n    //     \"low\": \"157.70\",\n    //     \"close\": \"161.45\"\n    //   }, {\n    //     \"date\": \"2018-10-07\",\n    //     \"open\": \"163.49\",\n    //     \"high\": \"167.91\",\n    //     \"low\": \"162.97\",\n    //     \"close\": \"167.91\"\n    //   }, {\n    //     \"date\": \"2018-10-08\",\n    //     \"open\": \"170.20\",\n    //     \"high\": \"171.11\",\n    //     \"low\": \"166.68\",\n    //     \"close\": \"167.86\"\n    //   }, {\n    //     \"date\": \"2018-10-09\",\n    //     \"open\": \"167.55\",\n    //     \"high\": \"167.88\",\n    //     \"low\": \"165.60\",\n    //     \"close\": \"166.79\"\n    //   }, {\n    //     \"date\": \"2018-10-10\",\n    //     \"open\": \"169.49\",\n    //     \"high\": \"171.88\",\n    //     \"low\": \"153.21\",\n    //     \"close\": \"162.23\"\n    //   }, {\n    //     \"date\": \"2018-10-11\",\n    //     \"open\": \"163.01\",\n    //     \"high\": \"167.28\",\n    //     \"low\": \"161.80\",\n    //     \"close\": \"167.25\"\n    //   }, {\n    //     \"date\": \"2018-10-14\",\n    //     \"open\": \"167.98\",\n    //     \"high\": \"169.57\",\n    //     \"low\": \"163.50\",\n    //     \"close\": \"166.98\"\n    //   }, {\n    //     \"date\": \"2018-10-15\",\n    //     \"open\": \"165.54\",\n    //     \"high\": \"170.18\",\n    //     \"low\": \"165.15\",\n    //     \"close\": \"169.58\"\n    //   }, {\n    //     \"date\": \"2018-10-16\",\n    //     \"open\": \"172.69\",\n    //     \"high\": \"173.04\",\n    //     \"low\": \"169.18\",\n    //     \"close\": \"172.75\"\n    // }];\n    // console.log(newChart.data)\n  }\n\n  componentWillUnmount() {\n    if (this.newChart._super) {\n      this.newChart.dispose();\n    }\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"chartdiv\",\n      style: {\n        width: \"100%\",\n        height: \"500px\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 12\n      }\n    });\n  }\n\n}\n\nexport default Chart;","map":{"version":3,"sources":["/Users/acapp5K1/Desktop/stocks-app/frontend/src/components/company/Chart.js"],"names":["React","useLayoutEffect","am4core","am4charts","am4themes_animated","Chart","Component","state","chart","componentDidUpdate","prevProps","props","newChart","_super","dispose","initChart","componentDidMount","chartId","useTheme","create","XYChart","paddingRight","dateFormatter","inputDateFormat","dateAxis","xAxes","push","DateAxis","renderer","grid","template","location","minGridDistance","valueAxis","yAxes","ValueAxis","tooltip","disabled","series","CandlestickSeries","dataFields","dateX","valueY","openValueY","lowValueY","highValueY","tooltipText","cursor","XYCursor","scrollbarX","Scrollbar","data","chart_lines","map","line","rawDate","Date","parseInt","date","rawMonth","getUTCMonth","rawDay","getUTCDate","chartDate","getUTCFullYear","open","high","low","close","setState","componentWillUnmount","render","width","height"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,eAAhB,QAAuC,OAAvC,C,CACA;;AACA,OAAO,KAAKC,OAAZ,MAAyB,0BAAzB;AACA,OAAO,KAAKC,SAAZ,MAA2B,4BAA3B;AACA,OAAOC,kBAAP,MAA+B,qCAA/B;;AAEA,MAAMC,KAAN,SAAoBL,KAAK,CAACM,SAA1B,CAAoC;AAAA;AAAA;AAAA,SAElCC,KAFkC,GAE1B;AACNC,MAAAA,KAAK,EAAE;AADD,KAF0B;AAAA;;AAMlCC,EAAAA,kBAAkB,CAACC,SAAD,EAAY;AAC5B;AACA;AACA,QAAGA,SAAS,CAACF,KAAV,KAAoB,KAAKG,KAAL,CAAWH,KAAlC,EAAyC;AACvC,UAAG,KAAKI,QAAL,CAAcC,MAAjB,EAAyB;AACvB,aAAKD,QAAL,CAAcE,OAAd;AACD;;AACD,WAAKC,SAAL;AACD;AACF;;AAEDC,EAAAA,iBAAiB,GAAG;AAClB,SAAKD,SAAL;AACD;;AAEDA,EAAAA,SAAS,GAAG;AACV,UAAM;AAAEE,MAAAA;AAAF,QAAc,KAAKN,KAAzB;AAEAT,IAAAA,OAAO,CAACgB,QAAR,CAAiBd,kBAAjB;AAEA,SAAKQ,QAAL,GAAgBV,OAAO,CAACiB,MAAR,CAAe,UAAf,EAA2BhB,SAAS,CAACiB,OAArC,CAAhB;AAEAR,IAAAA,QAAQ,CAACS,YAAT,GAAwB,EAAxB;AACAT,IAAAA,QAAQ,CAACU,aAAT,CAAuBC,eAAvB,GAAyC,YAAzC;AAEA,UAAMC,QAAQ,GAAGZ,QAAQ,CAACa,KAAT,CAAeC,IAAf,CAAoB,IAAIvB,SAAS,CAACwB,QAAd,EAApB,CAAjB;AACAH,IAAAA,QAAQ,CAACI,QAAT,CAAkBC,IAAlB,CAAuBC,QAAvB,CAAgCC,QAAhC,GAA2C,CAA3C;AACAP,IAAAA,QAAQ,CAACI,QAAT,CAAkBI,eAAlB,GAAoC,EAApC;AAEA,UAAMC,SAAS,GAAGrB,QAAQ,CAACsB,KAAT,CAAeR,IAAf,CAAoB,IAAIvB,SAAS,CAACgC,SAAd,EAApB,CAAlB;AACAF,IAAAA,SAAS,CAACG,OAAV,CAAkBC,QAAlB,GAA6B,IAA7B;AAEA,UAAMC,MAAM,GAAG1B,QAAQ,CAAC0B,MAAT,CAAgBZ,IAAhB,CAAqB,IAAIvB,SAAS,CAACoC,iBAAd,EAArB,CAAf;AACAD,IAAAA,MAAM,CAACE,UAAP,CAAkBC,KAAlB,GAA0B,MAA1B;AACAH,IAAAA,MAAM,CAACE,UAAP,CAAkBE,MAAlB,GAA2B,OAA3B;AACAJ,IAAAA,MAAM,CAACE,UAAP,CAAkBG,UAAlB,GAA+B,MAA/B;AACAL,IAAAA,MAAM,CAACE,UAAP,CAAkBI,SAAlB,GAA8B,KAA9B;AACAN,IAAAA,MAAM,CAACE,UAAP,CAAkBK,UAAlB,GAA+B,MAA/B;AACAP,IAAAA,MAAM,CAACQ,WAAP,GAAqB,2IAArB;AAEAlC,IAAAA,QAAQ,CAACmC,MAAT,GAAkB,IAAI5C,SAAS,CAAC6C,QAAd,EAAlB;AAEApC,IAAAA,QAAQ,CAACqC,UAAT,GAAsB,IAAI/C,OAAO,CAACgD,SAAZ,EAAtB;AAEAtC,IAAAA,QAAQ,CAACuC,IAAT,GAAgB,KAAKxC,KAAL,CAAWH,KAAX,CAAiB4C,WAAjB,CAA6BC,GAA7B,CAAkCC,IAAI,IAAI;AACxD;AACA,YAAMC,OAAO,GAAG,IAAIC,IAAJ,CAASC,QAAQ,CAACH,IAAI,CAACI,IAAN,CAAR,GAAsB,IAA/B,CAAhB;AACA,YAAMC,QAAQ,GAAGJ,OAAO,CAACK,WAAR,EAAjB;AACA,YAAMC,MAAM,GAAGN,OAAO,CAACO,UAAR,EAAf;AACA,YAAMC,SAAS,GAAGR,OAAO,CAACS,cAAR,KAA2B,GAA3B,IAAkCL,QAAQ,GAAG,EAAX,GAAgB,MAAMA,QAAtB,GAAiCA,QAAnE,IAA+E,GAA/E,IAAsFE,MAAM,GAAG,EAAT,GAAc,MAAMA,MAApB,GAA6BA,MAAnH,CAAlB;AACA,aAAO;AAACH,QAAAA,IAAI,EAAEK,SAAP;AACPE,QAAAA,IAAI,EAAEX,IAAI,CAACW,IADJ;AAEPC,QAAAA,IAAI,EAAEZ,IAAI,CAACY,IAFJ;AAGPC,QAAAA,GAAG,EAAEb,IAAI,CAACa,GAHH;AAIPC,QAAAA,KAAK,EAAEd,IAAI,CAACc;AAJL,OAAP;AAMD,KAZe,CAAhB;AAcA,SAAKC,QAAL,CAAc;AAAC7D,MAAAA,KAAK,EAAEI;AAAR,KAAd,EA3CU,CA6CV;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACD;;AAED0D,EAAAA,oBAAoB,GAAG;AACrB,QAAI,KAAK1D,QAAL,CAAcC,MAAlB,EAA0B;AACxB,WAAKD,QAAL,CAAcE,OAAd;AACD;AACF;;AAEDyD,EAAAA,MAAM,GAAG;AAEP,wBAAO;AAAK,MAAA,EAAE,EAAC,UAAR;AAAmB,MAAA,KAAK,EAAE;AAAEC,QAAAA,KAAK,EAAE,MAAT;AAAiBC,QAAAA,MAAM,EAAE;AAAzB,OAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAP;AAED;;AAvZiC;;AAyZpC,eAAepE,KAAf","sourcesContent":["import React, { useLayoutEffect } from 'react';\n// import candlestick chart components from amcharts.com below:\nimport * as am4core from \"@amcharts/amcharts4/core\";\nimport * as am4charts from \"@amcharts/amcharts4/charts\";\nimport am4themes_animated from \"@amcharts/amcharts4/themes/animated\";\n\nclass Chart extends React.Component {\n\n  state = {\n    chart: \"\"\n  }\n\n  componentDidUpdate(prevProps) {\n    // debugger\n    // Handle refreshing the chart when the dataset changes\n    if(prevProps.chart !== this.props.chart) {\n      if(this.newChart._super) {\n        this.newChart.dispose();\n      }\n      this.initChart();\n    }\n  }\n\n  componentDidMount() {\n    this.initChart()\n  }\n\n  initChart() {\n    const { chartId } = this.props\n\n    am4core.useTheme(am4themes_animated);\n\n    this.newChart = am4core.create(\"chartdiv\", am4charts.XYChart);\n    \n    newChart.paddingRight = 20;\n    newChart.dateFormatter.inputDateFormat = \"yyyy-MM-dd\";\n  \n    const dateAxis = newChart.xAxes.push(new am4charts.DateAxis());\n    dateAxis.renderer.grid.template.location = 0;\n    dateAxis.renderer.minGridDistance = 60;\n  \n    const valueAxis = newChart.yAxes.push(new am4charts.ValueAxis());\n    valueAxis.tooltip.disabled = true;\n  \n    const series = newChart.series.push(new am4charts.CandlestickSeries());\n    series.dataFields.dateX = \"date\";\n    series.dataFields.valueY = \"close\";\n    series.dataFields.openValueY = \"open\";\n    series.dataFields.lowValueY = \"low\";\n    series.dataFields.highValueY = \"high\";\n    series.tooltipText = \"Open: [bold]${openValueY.value}[/]\\nLow: [bold]${lowValueY.value}[/]\\nHigh: [bold]${highValueY.value}[/]\\nClose: [bold]${valueY.value}[/]\";\n  \n    newChart.cursor = new am4charts.XYCursor();\n  \n    newChart.scrollbarX = new am4core.Scrollbar();\n  \n    newChart.data = this.props.chart.chart_lines.map( line => {\n      //Convert Unix Date to JS Date Object\n      const rawDate = new Date(parseInt(line.date) * 1000)\n      const rawMonth = rawDate.getUTCMonth()\n      const rawDay = rawDate.getUTCDate()\n      const chartDate = rawDate.getUTCFullYear() + '-' + (rawMonth < 10 ? '0' + rawMonth : rawMonth) + '-' + (rawDay < 10 ? '0' + rawDay : rawDay)\n      return {date: chartDate,\n      open: line.open,\n      high: line.high,\n      low: line.low,\n      close: line.close}\n\n    })\n    \n    this.setState({chart: newChart})\n\n    // Sample chart data for testing\n\n    //   newChart.data = [ {\n    //     \"date\": \"2018-08-01\",\n    //     \"open\": \"136.65\",\n    //     \"high\": \"136.96\",\n    //     \"low\": \"134.15\",\n    //     \"close\": \"136.49\"\n    //   }, {\n    //     \"date\": \"2018-08-02\",\n    //     \"open\": \"135.26\",\n    //     \"high\": \"135.95\",\n    //     \"low\": \"131.50\",\n    //     \"close\": \"131.85\"\n    //   }, {\n    //     \"date\": \"2018-08-05\",\n    //     \"open\": \"132.90\",\n    //     \"high\": \"135.27\",\n    //     \"low\": \"128.30\",\n    //     \"close\": \"135.25\"\n    //   }, {\n    //     \"date\": \"2018-08-06\",\n    //     \"open\": \"134.94\",\n    //     \"high\": \"137.24\",\n    //     \"low\": \"132.63\",\n    //     \"close\": \"135.03\"\n    //   }, {\n    //     \"date\": \"2018-08-07\",\n    //     \"open\": \"136.76\",\n    //     \"high\": \"136.86\",\n    //     \"low\": \"132.00\",\n    //     \"close\": \"134.01\"\n    //   }, {\n    //     \"date\": \"2018-08-08\",\n    //     \"open\": \"131.11\",\n    //     \"high\": \"133.00\",\n    //     \"low\": \"125.09\",\n    //     \"close\": \"126.39\"\n    //   }, {\n    //     \"date\": \"2018-08-09\",\n    //     \"open\": \"123.12\",\n    //     \"high\": \"127.75\",\n    //     \"low\": \"120.30\",\n    //     \"close\": \"125.00\"\n    //   }, {\n    //     \"date\": \"2018-08-12\",\n    //     \"open\": \"128.32\",\n    //     \"high\": \"129.35\",\n    //     \"low\": \"126.50\",\n    //     \"close\": \"127.79\"\n    //   }, {\n    //     \"date\": \"2018-08-13\",\n    //     \"open\": \"128.29\",\n    //     \"high\": \"128.30\",\n    //     \"low\": \"123.71\",\n    //     \"close\": \"124.03\"\n    //   }, {\n    //     \"date\": \"2018-08-14\",\n    //     \"open\": \"122.74\",\n    //     \"high\": \"124.86\",\n    //     \"low\": \"119.65\",\n    //     \"close\": \"119.90\"\n    //   }, {\n    //     \"date\": \"2018-08-15\",\n    //     \"open\": \"117.01\",\n    //     \"high\": \"118.50\",\n    //     \"low\": \"111.62\",\n    //     \"close\": \"117.05\"\n    //   }, {\n    //     \"date\": \"2018-08-16\",\n    //     \"open\": \"122.01\",\n    //     \"high\": \"123.50\",\n    //     \"low\": \"119.82\",\n    //     \"close\": \"122.06\"\n    //   }, {\n    //     \"date\": \"2018-08-19\",\n    //     \"open\": \"123.96\",\n    //     \"high\": \"124.50\",\n    //     \"low\": \"120.50\",\n    //     \"close\": \"122.22\"\n    //   }, {\n    //     \"date\": \"2018-08-20\",\n    //     \"open\": \"122.21\",\n    //     \"high\": \"128.96\",\n    //     \"low\": \"121.00\",\n    //     \"close\": \"127.57\"\n    //   }, {\n    //     \"date\": \"2018-08-21\",\n    //     \"open\": \"131.22\",\n    //     \"high\": \"132.75\",\n    //     \"low\": \"130.33\",\n    //     \"close\": \"132.51\"\n    //   }, {\n    //     \"date\": \"2018-08-22\",\n    //     \"open\": \"133.09\",\n    //     \"high\": \"133.34\",\n    //     \"low\": \"129.76\",\n    //     \"close\": \"131.07\"\n    //   }, {\n    //     \"date\": \"2018-08-23\",\n    //     \"open\": \"130.53\",\n    //     \"high\": \"135.37\",\n    //     \"low\": \"129.81\",\n    //     \"close\": \"135.30\"\n    //   }, {\n    //     \"date\": \"2018-08-26\",\n    //     \"open\": \"133.39\",\n    //     \"high\": \"134.66\",\n    //     \"low\": \"132.10\",\n    //     \"close\": \"132.25\"\n    //   }, {\n    //     \"date\": \"2018-08-27\",\n    //     \"open\": \"130.99\",\n    //     \"high\": \"132.41\",\n    //     \"low\": \"126.63\",\n    //     \"close\": \"126.82\"\n    //   }, {\n    //     \"date\": \"2018-08-28\",\n    //     \"open\": \"129.88\",\n    //     \"high\": \"134.18\",\n    //     \"low\": \"129.54\",\n    //     \"close\": \"134.08\"\n    //   }, {\n    //     \"date\": \"2018-08-29\",\n    //     \"open\": \"132.67\",\n    //     \"high\": \"138.25\",\n    //     \"low\": \"132.30\",\n    //     \"close\": \"136.25\"\n    //   }, {\n    //     \"date\": \"2018-08-30\",\n    //     \"open\": \"139.49\",\n    //     \"high\": \"139.65\",\n    //     \"low\": \"137.41\",\n    //     \"close\": \"138.48\"\n    //   }, {\n    //     \"date\": \"2018-09-03\",\n    //     \"open\": \"139.94\",\n    //     \"high\": \"145.73\",\n    //     \"low\": \"139.84\",\n    //     \"close\": \"144.16\"\n    //   }, {\n    //     \"date\": \"2018-09-04\",\n    //     \"open\": \"144.97\",\n    //     \"high\": \"145.84\",\n    //     \"low\": \"136.10\",\n    //     \"close\": \"136.76\"\n    //   }, {\n    //     \"date\": \"2018-09-05\",\n    //     \"open\": \"135.56\",\n    //     \"high\": \"137.57\",\n    //     \"low\": \"132.71\",\n    //     \"close\": \"135.01\"\n    //   }, {\n    //     \"date\": \"2018-09-06\",\n    //     \"open\": \"132.01\",\n    //     \"high\": \"132.30\",\n    //     \"low\": \"130.00\",\n    //     \"close\": \"131.77\"\n    //   }, {\n    //     \"date\": \"2018-09-09\",\n    //     \"open\": \"136.99\",\n    //     \"high\": \"138.04\",\n    //     \"low\": \"133.95\",\n    //     \"close\": \"136.71\"\n    //   }, {\n    //     \"date\": \"2018-09-10\",\n    //     \"open\": \"137.90\",\n    //     \"high\": \"138.30\",\n    //     \"low\": \"133.75\",\n    //     \"close\": \"135.49\"\n    //   }, {\n    //     \"date\": \"2018-09-11\",\n    //     \"open\": \"135.99\",\n    //     \"high\": \"139.40\",\n    //     \"low\": \"135.75\",\n    //     \"close\": \"136.85\"\n    //   }, {\n    //     \"date\": \"2018-09-12\",\n    //     \"open\": \"138.83\",\n    //     \"high\": \"139.00\",\n    //     \"low\": \"136.65\",\n    //     \"close\": \"137.20\"\n    //   }, {\n    //     \"date\": \"2018-09-13\",\n    //     \"open\": \"136.57\",\n    //     \"high\": \"138.98\",\n    //     \"low\": \"136.20\",\n    //     \"close\": \"138.81\"\n    //   }, {\n    //     \"date\": \"2018-09-16\",\n    //     \"open\": \"138.99\",\n    //     \"high\": \"140.59\",\n    //     \"low\": \"137.60\",\n    //     \"close\": \"138.41\"\n    //   }, {\n    //     \"date\": \"2018-09-17\",\n    //     \"open\": \"139.06\",\n    //     \"high\": \"142.85\",\n    //     \"low\": \"137.83\",\n    //     \"close\": \"140.92\"\n    //   }, {\n    //     \"date\": \"2018-09-18\",\n    //     \"open\": \"143.02\",\n    //     \"high\": \"143.16\",\n    //     \"low\": \"139.40\",\n    //     \"close\": \"140.77\"\n    //   }, {\n    //     \"date\": \"2018-09-19\",\n    //     \"open\": \"140.15\",\n    //     \"high\": \"141.79\",\n    //     \"low\": \"139.32\",\n    //     \"close\": \"140.31\"\n    //   }, {\n    //     \"date\": \"2018-09-20\",\n    //     \"open\": \"141.14\",\n    //     \"high\": \"144.65\",\n    //     \"low\": \"140.31\",\n    //     \"close\": \"144.15\"\n    //   }, {\n    //     \"date\": \"2018-09-23\",\n    //     \"open\": \"146.73\",\n    //     \"high\": \"149.85\",\n    //     \"low\": \"146.65\",\n    //     \"close\": \"148.28\"\n    //   }, {\n    //     \"date\": \"2018-09-24\",\n    //     \"open\": \"146.84\",\n    //     \"high\": \"153.22\",\n    //     \"low\": \"146.82\",\n    //     \"close\": \"153.18\"\n    //   }, {\n    //     \"date\": \"2018-09-25\",\n    //     \"open\": \"154.47\",\n    //     \"high\": \"155.00\",\n    //     \"low\": \"151.25\",\n    //     \"close\": \"152.77\"\n    //   }, {\n    //     \"date\": \"2018-09-26\",\n    //     \"open\": \"153.77\",\n    //     \"high\": \"154.52\",\n    //     \"low\": \"152.32\",\n    //     \"close\": \"154.50\"\n    //   }, {\n    //     \"date\": \"2018-09-27\",\n    //     \"open\": \"153.44\",\n    //     \"high\": \"154.60\",\n    //     \"low\": \"152.75\",\n    //     \"close\": \"153.47\"\n    //   }, {\n    //     \"date\": \"2018-09-30\",\n    //     \"open\": \"154.63\",\n    //     \"high\": \"157.41\",\n    //     \"low\": \"152.93\",\n    //     \"close\": \"156.34\"\n    //   }, {\n    //     \"date\": \"2018-10-01\",\n    //     \"open\": \"156.55\",\n    //     \"high\": \"158.59\",\n    //     \"low\": \"155.89\",\n    //     \"close\": \"158.45\"\n    //   }, {\n    //     \"date\": \"2018-10-02\",\n    //     \"open\": \"157.78\",\n    //     \"high\": \"159.18\",\n    //     \"low\": \"157.01\",\n    //     \"close\": \"157.92\"\n    //   }, {\n    //     \"date\": \"2018-10-03\",\n    //     \"open\": \"158.00\",\n    //     \"high\": \"158.08\",\n    //     \"low\": \"153.50\",\n    //     \"close\": \"156.24\"\n    //   }, {\n    //     \"date\": \"2018-10-04\",\n    //     \"open\": \"158.37\",\n    //     \"high\": \"161.58\",\n    //     \"low\": \"157.70\",\n    //     \"close\": \"161.45\"\n    //   }, {\n    //     \"date\": \"2018-10-07\",\n    //     \"open\": \"163.49\",\n    //     \"high\": \"167.91\",\n    //     \"low\": \"162.97\",\n    //     \"close\": \"167.91\"\n    //   }, {\n    //     \"date\": \"2018-10-08\",\n    //     \"open\": \"170.20\",\n    //     \"high\": \"171.11\",\n    //     \"low\": \"166.68\",\n    //     \"close\": \"167.86\"\n    //   }, {\n    //     \"date\": \"2018-10-09\",\n    //     \"open\": \"167.55\",\n    //     \"high\": \"167.88\",\n    //     \"low\": \"165.60\",\n    //     \"close\": \"166.79\"\n    //   }, {\n    //     \"date\": \"2018-10-10\",\n    //     \"open\": \"169.49\",\n    //     \"high\": \"171.88\",\n    //     \"low\": \"153.21\",\n    //     \"close\": \"162.23\"\n    //   }, {\n    //     \"date\": \"2018-10-11\",\n    //     \"open\": \"163.01\",\n    //     \"high\": \"167.28\",\n    //     \"low\": \"161.80\",\n    //     \"close\": \"167.25\"\n    //   }, {\n    //     \"date\": \"2018-10-14\",\n    //     \"open\": \"167.98\",\n    //     \"high\": \"169.57\",\n    //     \"low\": \"163.50\",\n    //     \"close\": \"166.98\"\n    //   }, {\n    //     \"date\": \"2018-10-15\",\n    //     \"open\": \"165.54\",\n    //     \"high\": \"170.18\",\n    //     \"low\": \"165.15\",\n    //     \"close\": \"169.58\"\n    //   }, {\n    //     \"date\": \"2018-10-16\",\n    //     \"open\": \"172.69\",\n    //     \"high\": \"173.04\",\n    //     \"low\": \"169.18\",\n    //     \"close\": \"172.75\"\n    // }];\n\n    // console.log(newChart.data)\n  }\n\n  componentWillUnmount() {\n    if (this.newChart._super) {\n      this.newChart.dispose();\n    }\n  }\n\n  render() {\n    \n    return <div id=\"chartdiv\" style={{ width: \"100%\", height: \"500px\" }}></div>\n\n  }\n}\nexport default Chart"]},"metadata":{},"sourceType":"module"}